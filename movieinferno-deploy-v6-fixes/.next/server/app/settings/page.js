(()=>{var e={};e.id=938,e.ids=[938],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2317:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>o}),t(7322),t(1216),t(5866);var r=t(3191),a=t(8716),i=t(7922),n=t.n(i),l=t(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7322)),"C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\app\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1216)),"C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\app\\settings\\page.tsx"],u="/settings/page",h={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7572:(e,s,t)=>{Promise.resolve().then(t.bind(t,2637))},2637:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>$});var r=t(326),a=t(7577),i=t(5472),n=t(5047),l=t(2597),c=t(2258),o=t(772),d=t(2643),u=t(4432),h=t(5226),p=a.forwardRef((e,s)=>(0,r.jsx)(h.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));p.displayName="Label";var x=t(7863);function m({className:e,...s}){return r.jsx(p,{"data-slot":"label",className:(0,x.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}var f=t(2561),y=t(8051),j=t(3095),v=t(2067),g=t(5819),b="Switch",[w,k]=(0,j.b)(b),[N,P]=w(b),C=a.forwardRef((e,s)=>{let{__scopeSwitch:t,name:i,checked:n,defaultChecked:l,required:c,disabled:o,value:d="on",onCheckedChange:u,form:p,...x}=e,[m,j]=a.useState(null),g=(0,y.e)(s,e=>j(e)),b=a.useRef(!1),w=!m||p||!!m.closest("form"),[k=!1,P]=(0,v.T)({prop:n,defaultProp:l,onChange:u});return(0,r.jsxs)(N,{scope:t,checked:k,disabled:o,children:[(0,r.jsx)(h.WV.button,{type:"button",role:"switch","aria-checked":k,"aria-required":c,"data-state":A(k),"data-disabled":o?"":void 0,disabled:o,value:d,...x,ref:g,onClick:(0,f.M)(e.onClick,e=>{P(e=>!e),w&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),w&&(0,r.jsx)(z,{control:m,bubbles:!b.current,name:i,value:d,checked:k,required:c,disabled:o,form:p,style:{transform:"translateX(-100%)"}})]})});C.displayName=b;var S="SwitchThumb",M=a.forwardRef((e,s)=>{let{__scopeSwitch:t,...a}=e,i=P(S,t);return(0,r.jsx)(h.WV.span,{"data-state":A(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})});M.displayName=S;var z=e=>{let{control:s,checked:t,bubbles:i=!0,...n}=e,l=a.useRef(null),c=function(e){let s=a.useRef({value:e,previous:e});return a.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}(t),o=function(e){let[s,t]=a.useState(void 0);return(0,g.b)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let r,a;if(!Array.isArray(s)||!s.length)return;let i=s[0];if("borderBoxSize"in i){let e=i.borderBoxSize,s=Array.isArray(e)?e[0]:e;r=s.inlineSize,a=s.blockSize}else r=e.offsetWidth,a=e.offsetHeight;t({width:r,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}t(void 0)},[e]),s}(s);return a.useEffect(()=>{let e=l.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==t&&s){let r=new Event("click",{bubbles:i});s.call(e,t),e.dispatchEvent(r)}},[c,t,i]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:l,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function A(e){return e?"checked":"unchecked"}function E({className:e,...s}){return r.jsx(C,{"data-slot":"switch",className:(0,x.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:r.jsx(M,{"data-slot":"switch-thumb",className:(0,x.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var Z="horizontal",_=["horizontal","vertical"],q=a.forwardRef((e,s)=>{let{decorative:t,orientation:a=Z,...i}=e,n=_.includes(a)?a:Z;return(0,r.jsx)(h.WV.div,{"data-orientation":n,...t?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"},...i,ref:s})});function U({className:e,orientation:s="horizontal",decorative:t=!0,...a}){return r.jsx(q,{"data-slot":"separator",decorative:t,orientation:s,className:(0,x.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...a})}q.displayName="Separator";var O=t(3701),D=t(6333),I=t(9635),R=t(2881);let V=(0,R.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),F=(0,R.Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),H=(0,R.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),T=(0,R.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),W=(0,R.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Y=(0,R.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var G=t(8091),B=t(434),L=t(4215);function $(){let[e,s]=(0,a.useState)(null),[t,h]=(0,a.useState)({notifications:!0,emailUpdates:!1,publicProfile:!0,autoplay:!0,darkMode:!1}),[p,x]=(0,a.useState)(""),[f,y]=(0,a.useState)(""),[j,v]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[w,k]=(0,a.useState)(!1),[N,P]=(0,a.useState)(!0),[C,S]=(0,a.useState)(!1),M=(0,n.useRouter)(),z=async()=>{if(e){S(!0);try{let{error:t}=await i.O.from("users").update({username:p}).eq("id",e.id);if(t)throw t;(0,L.Am)({title:"Success",description:"Profile updated successfully"}),s({...e,username:p})}catch(e){console.error("Error updating profile:",e),(0,L.Am)({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{S(!1)}}},A=async()=>{if(j!==g){(0,L.Am)({title:"Error",description:"New passwords don't match",variant:"destructive"});return}if(j.length<6){(0,L.Am)({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}S(!0);try{let{error:e}=await i.O.auth.updateUser({password:j});if(e)throw e;(0,L.Am)({title:"Success",description:"Password updated successfully"}),y(""),v(""),b("")}catch(e){console.error("Error updating password:",e),(0,L.Am)({title:"Error",description:"Failed to update password",variant:"destructive"})}finally{S(!1)}},Z=async()=>{if(confirm("Are you sure you want to delete your account? This action cannot be undone.")){S(!0);try{let{error:e}=await i.O.auth.signOut();if(e)throw e;(0,L.Am)({title:"Account Deleted",description:"Your account has been deleted successfully"}),M.push("/")}catch(e){console.error("Error deleting account:",e),(0,L.Am)({title:"Error",description:"Failed to delete account",variant:"destructive"})}finally{S(!1)}}};return N?(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(l.w,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),r.jsx(c.$,{})]}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(l.w,{}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("div",{className:"flex items-center gap-4 mb-4",children:r.jsx(o.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(B.default,{href:"/profile",children:[r.jsx(D.Z,{className:"w-4 h-4 mr-2"}),"Back to Profile"]})})}),r.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Settings"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your account preferences and settings"})]}),(0,r.jsxs)(O.mQ,{defaultValue:"profile",className:"space-y-6",children:[(0,r.jsxs)(O.dr,{className:"grid w-full grid-cols-4",children:[r.jsx(O.SP,{value:"profile",children:"Profile"}),r.jsx(O.SP,{value:"preferences",children:"Preferences"}),r.jsx(O.SP,{value:"security",children:"Security"}),r.jsx(O.SP,{value:"account",children:"Account"})]}),r.jsx(O.nU,{value:"profile",className:"space-y-6",children:(0,r.jsxs)(d.Zb,{children:[(0,r.jsxs)(d.Ol,{children:[(0,r.jsxs)(d.ll,{className:"flex items-center gap-2",children:[r.jsx(I.Z,{className:"w-5 h-5"}),"Profile Information"]}),r.jsx(d.SZ,{children:"Update your profile information and display preferences"})]}),(0,r.jsxs)(d.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(m,{htmlFor:"email",children:"Email"}),r.jsx(u.I,{id:"email",type:"email",value:e.email,disabled:!0,className:"bg-muted"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Email cannot be changed. Contact support if needed."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(m,{htmlFor:"username",children:"Username"}),r.jsx(u.I,{id:"username",type:"text",value:p,onChange:e=>x(e.target.value),placeholder:"Enter your username"})]}),(0,r.jsxs)(o.z,{onClick:z,disabled:C,children:[r.jsx(V,{className:"w-4 h-4 mr-2"}),C?"Saving...":"Save Changes"]})]})]})}),(0,r.jsxs)(O.nU,{value:"preferences",className:"space-y-6",children:[(0,r.jsxs)(d.Zb,{children:[(0,r.jsxs)(d.Ol,{children:[(0,r.jsxs)(d.ll,{className:"flex items-center gap-2",children:[r.jsx(F,{className:"w-5 h-5"}),"App Preferences"]}),r.jsx(d.SZ,{children:"Customize your MovieInferno experience"})]}),(0,r.jsxs)(d.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[r.jsx(m,{children:"Autoplay Trailers"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically play movie trailers when browsing"})]}),r.jsx(E,{checked:t.autoplay,onCheckedChange:e=>h({...t,autoplay:e})})]}),r.jsx(U,{}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[r.jsx(m,{children:"Public Profile"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow others to see your reviews and watchlist"})]}),r.jsx(E,{checked:t.publicProfile,onCheckedChange:e=>h({...t,publicProfile:e})})]})]})]}),(0,r.jsxs)(d.Zb,{children:[(0,r.jsxs)(d.Ol,{children:[(0,r.jsxs)(d.ll,{className:"flex items-center gap-2",children:[r.jsx(H,{className:"w-5 h-5"}),"Notifications"]}),r.jsx(d.SZ,{children:"Manage your notification preferences"})]}),(0,r.jsxs)(d.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[r.jsx(m,{children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about new releases and updates"})]}),r.jsx(E,{checked:t.notifications,onCheckedChange:e=>h({...t,notifications:e})})]}),r.jsx(U,{}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[r.jsx(m,{children:"Email Updates"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly email updates about trending movies"})]}),r.jsx(E,{checked:t.emailUpdates,onCheckedChange:e=>h({...t,emailUpdates:e})})]})]})]})]}),r.jsx(O.nU,{value:"security",className:"space-y-6",children:(0,r.jsxs)(d.Zb,{children:[(0,r.jsxs)(d.Ol,{children:[(0,r.jsxs)(d.ll,{className:"flex items-center gap-2",children:[r.jsx(T,{className:"w-5 h-5"}),"Change Password"]}),r.jsx(d.SZ,{children:"Update your account password for better security"})]}),(0,r.jsxs)(d.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(m,{htmlFor:"current-password",children:"Current Password"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(u.I,{id:"current-password",type:w?"text":"password",value:f,onChange:e=>y(e.target.value),placeholder:"Enter current password"}),r.jsx(o.z,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>k(!w),children:w?r.jsx(W,{className:"h-4 w-4"}):r.jsx(Y,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(m,{htmlFor:"new-password",children:"New Password"}),r.jsx(u.I,{id:"new-password",type:w?"text":"password",value:j,onChange:e=>v(e.target.value),placeholder:"Enter new password"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(m,{htmlFor:"confirm-password",children:"Confirm New Password"}),r.jsx(u.I,{id:"confirm-password",type:w?"text":"password",value:g,onChange:e=>b(e.target.value),placeholder:"Confirm new password"})]}),(0,r.jsxs)(o.z,{onClick:A,disabled:C||!j||!g,children:[r.jsx(V,{className:"w-4 h-4 mr-2"}),C?"Updating...":"Update Password"]})]})]})}),r.jsx(O.nU,{value:"account",className:"space-y-6",children:(0,r.jsxs)(d.Zb,{children:[(0,r.jsxs)(d.Ol,{children:[r.jsx(d.ll,{className:"text-red-600",children:"Danger Zone"}),r.jsx(d.SZ,{children:"Irreversible actions that will affect your account"})]}),r.jsx(d.aY,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50 dark:bg-red-950/20 dark:border-red-800",children:[r.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-400 mb-2",children:"Delete Account"}),r.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-4",children:"Once you delete your account, there is no going back. This will permanently delete your profile, watchlist, reviews, and all associated data."}),(0,r.jsxs)(o.z,{variant:"destructive",onClick:Z,disabled:C,children:[r.jsx(G.Z,{className:"w-4 h-4 mr-2"}),C?"Deleting...":"Delete Account"]})]})})]})})]})]}),r.jsx(c.$,{})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(l.w,{}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,r.jsxs)("div",{className:"text-center space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-muted-foreground",children:"Please log in to access settings"}),r.jsx(o.z,{asChild:!0,children:r.jsx(B.default,{href:"/login",children:"Go to Login"})})]})}),r.jsx(c.$,{})]})}},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7322:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\varshitha-home\Desktop\last_hope\MovieInferno\app\settings\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,612,75,26,949],()=>t(2317));module.exports=r})();