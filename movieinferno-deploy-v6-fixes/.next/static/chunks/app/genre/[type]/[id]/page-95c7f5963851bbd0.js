(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{1226:function(e,t,s){Promise.resolve().then(s.bind(s,7409))},7409:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var r=s(7437),a=s(2265),n=s(9376),i=s(7648),l=s(3322),o=s(3284),c=s(7531),d=s(4215),u=s(7115),h=s(2869),x=s(2660),m=s(4554),v=s(7143),f=s(5953);function g(){let e=(0,n.useParams)(),t=parseInt(e.id),s=e.type,[g,p]=(0,a.useState)([]),[j,b]=(0,a.useState)(!0),[w,y]=(0,a.useState)(null),[N,k]=(0,a.useState)(""),[_,S]=(0,a.useState)(1),[Z,z]=(0,a.useState)(1);if((0,a.useEffect)(()=>{let e=async()=>{try{let e;b(!0),y(null),e="movie"===s?await f.x3.getMoviesByGenre(t,_):await f.x3.getTVByGenre(t,_),p(e.results),z(e.total_pages);let r=("movie"===s?await f.x3.getMovieGenres():await f.x3.getTVGenres()).genres.find(e=>e.id===t);k((null==r?void 0:r.name)||"Unknown Genre")}catch(e){console.error(e),y("Failed to fetch content")}finally{b(!1)}};t&&s&&e()},[t,s,_]),j)return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(l.w,{}),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,r.jsx)(u.T,{size:"lg"})}),(0,r.jsx)(o.$,{})]});if(w)return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(l.w,{}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,r.jsxs)("div",{className:"text-center space-y-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:w}),(0,r.jsx)(h.z,{asChild:!0,children:(0,r.jsx)(i.default,{href:"/genres",children:"Back to Genres"})})]})}),(0,r.jsx)(o.$,{})]});let C=e=>{S(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(l.w,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,r.jsx)(h.z,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)(i.default,{href:"/genres",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Back to Genres"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:["movie"===s?(0,r.jsx)(m.Z,{className:"w-6 h-6 text-accent"}):(0,r.jsx)(v.Z,{className:"w-6 h-6 text-accent"}),(0,r.jsxs)("h1",{className:"text-3xl font-bold text-foreground",children:[N," ","movie"===s?"Movies":"TV Shows"]})]})]}),g.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 mb-8",children:g.map(e=>"movie"===s?(0,r.jsx)(c.u,{movie:e},e.id):(0,r.jsx)(d.L,{show:e},e.id))}),Z>1&&(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-8",children:[(0,r.jsx)(h.z,{variant:"outline",onClick:()=>C(_-1),disabled:1===_,children:"Previous"}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,Z)},(e,t)=>{let s=_<=3?t+1:_+t-2;return s>Z?null:(0,r.jsx)(h.z,{variant:_===s?"default":"outline",size:"sm",onClick:()=>C(s),children:s},s)})}),(0,r.jsx)(h.z,{variant:"outline",onClick:()=>C(_+1),disabled:_===Z,children:"Next"})]})]}):(0,r.jsx)("div",{className:"text-center py-16",children:(0,r.jsxs)("p",{className:"text-muted-foreground text-lg",children:["No ","movie"===s?"movies":"TV shows"," found in this genre."]})})]}),(0,r.jsx)(o.$,{})]})}},7115:function(e,t,s){"use strict";s.d(t,{T:function(){return n}});var r=s(7437);let a=(0,s(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n(e){let{className:t="",size:s="md"}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center ".concat(t),children:(0,r.jsx)(a,{className:"animate-spin text-accent ".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[s])})})}},4215:function(e,t,s){"use strict";s.d(t,{L:function(){return f}});var r=s(7437),a=s(2265),n=s(3145),i=s(7648),l=s(6595),o=s(1047),c=s(5275),d=s(1178),u=s(5974),h=s(2869),x=s(5953),m=s(3303),v=s(5561);function f(e){let{show:t,className:s=""}=e,[f,g]=(0,a.useState)(!1),[p,j]=(0,a.useState)(!1),[b,w]=(0,a.useState)(null),{isInWatchlist:y,addToWatchlist:N,removeFromWatchlist:k}=(0,v.B)(null==b?void 0:b.id),_=t.first_air_date?new Date(t.first_air_date).getFullYear():"TBA",S=t.vote_average?t.vote_average.toFixed(1):"N/A";(0,a.useEffect)(()=>{(async()=>{let{data:{session:e}}=await m.O.auth.getSession();w((null==e?void 0:e.user)||null)})();let{data:{subscription:e}}=m.O.auth.onAuthStateChange((e,t)=>{w((null==t?void 0:t.user)||null)});return()=>e.unsubscribe()},[]);let Z=async e=>{if(e.preventDefault(),e.stopPropagation(),!b){alert("Please log in to add shows to your watchlist");return}j(!0);try{y(t.id,"tv")?await k(t.id,"tv"):await N({tmdb_id:t.id,media_type:"tv",title:t.name,poster_path:t.poster_path,release_date:t.first_air_date,vote_average:t.vote_average||0,overview:t.overview})}catch(e){console.error("Watchlist Error:",e),alert("âŒ Could not update watchlist. Please try again.")}finally{j(!1)}};return(0,r.jsx)(i.default,{href:"/tv/".concat(t.id),className:"group block ".concat(s),children:(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-lg bg-black border border-red-500 transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-red-500/20 hover:border-white",children:[(0,r.jsxs)("div",{className:"relative aspect-[2/3] overflow-hidden",children:[(0,r.jsx)(n.default,{src:f?"/abstract-movie-poster.png":(0,x.Jn)(t.poster_path)||"/placeholder.svg",alt:t.name||"TV show poster",fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-110",onError:()=>g(!0)}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsxs)(u.C,{variant:"secondary",className:"bg-red-600 text-white border border-white",children:[(0,r.jsx)(l.Z,{className:"w-3 h-3 mr-1 fill-white text-white"}),S]})}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-end p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,r.jsx)("div",{className:"text-white",children:(0,r.jsx)("p",{className:"text-sm line-clamp-3 text-pretty",children:t.overview})})})]}),(0,r.jsxs)("div",{className:"p-4 bg-black",children:[(0,r.jsx)("h3",{className:"font-semibold text-white mb-2 line-clamp-2 text-balance group-hover:text-red-400 transition-colors",children:t.name}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-red-300 mb-3",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4 mr-1"}),_]}),(0,r.jsx)(h.z,{onClick:Z,disabled:p,variant:y(t.id,"tv")?"secondary":"default",className:"w-full border border-white ".concat((y(t.id,"tv"),"bg-red-600 hover:bg-red-700 text-white")),size:"sm",children:p?"Loading...":y(t.id,"tv")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"In Watchlist"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Add to Watchlist"]})})]})]})})}},5974:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(7437),a=s(535),n=s(4508);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},7143:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]])}},function(e){e.O(0,[63,866,145,407,0,971,117,744],function(){return e(e.s=1226)}),_N_E=e.O()}]);