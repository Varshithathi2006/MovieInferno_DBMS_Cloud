(()=>{var e={};e.id=533,e.ids=[533],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},7035:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>c,routeModule:()=>m,tree:()=>n}),r(8109),r(5579),r(2874);var s=r(7105),a=r(5265),i=r(157),l=r.n(i),o=r(4665),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let n=["",{children:["watchlist",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8109)),"C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\movieinferno-deploy-v6-fixes\\app\\watchlist\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5579)),"C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\movieinferno-deploy-v6-fixes\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2874,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\movieinferno-deploy-v6-fixes\\app\\watchlist\\page.tsx"],h="/watchlist/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/watchlist/page",pathname:"/watchlist",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},3081:(e,t,r)=>{Promise.resolve().then(r.bind(r,1540))},1540:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(9899),a=r(5507),i=r(6153),l=r(4175),o=r(177),d=r(6772),n=r(739),c=r(7866),h=r(4672),x=r(8408),m=r(3776);r(1633);var p=r(3795),u=r(280);function g(){(0,i.useRouter)();let[e,t]=(0,a.useState)(null),[r,g]=(0,a.useState)("all"),[v,b]=(0,a.useState)("date_added"),{watchlistItems:w,isInWatchlist:y,addToWatchlist:f,removeFromWatchlist:j,loading:N,error:_}=(0,p.B)(e?.id),k=[...w.filter(e=>"all"===r||e.media_type===r)].sort((e,t)=>{switch(v){case"title":return e.title.localeCompare(t.title);case"rating":return t.vote_average-e.vote_average;default:return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}});return N?s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{children:"Loading your watchlist..."})]})}):_?s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:(0,s.jsxs)("div",{className:"text-center border border-red-500 rounded-lg p-8 bg-gray-900 max-w-md mx-auto mt-20",children:[(0,s.jsxs)("div",{className:"text-red-400 text-xl mb-4",children:["⚠️ ",_]}),s.jsx("div",{className:"text-gray-400",children:"Please refresh the page to try again."})]})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.w,{}),s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsxs)("div",{className:"flex justify-center items-center gap-3 mb-4",children:[s.jsx(o.Z,{className:"w-12 h-12 text-red-400"}),s.jsx("h1",{className:"text-5xl font-bold text-red-400",children:"My Watchlist"})]}),s.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto",children:"Keep track of movies and TV shows you want to watch"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg transition-colors border ${"all"===r?"bg-red-600 text-white border-white":"bg-gray-900 text-white border-red-500 hover:bg-red-900 hover:border-white"}`,children:["All (",w.length,")"]}),(0,s.jsxs)("button",{onClick:()=>g("movie"),className:`px-4 py-2 rounded-lg transition-colors border flex items-center gap-2 ${"movie"===r?"bg-red-600 text-white border-white":"bg-gray-900 text-white border-red-500 hover:bg-red-900 hover:border-white"}`,children:[s.jsx(d.Z,{className:"w-4 h-4"}),"Movies (",w.filter(e=>"movie"===e.media_type).length,")"]}),(0,s.jsxs)("button",{onClick:()=>g("tv"),className:`px-4 py-2 rounded-lg transition-colors border flex items-center gap-2 ${"tv"===r?"bg-red-600 text-white border-white":"bg-gray-900 text-white border-red-500 hover:bg-red-900 hover:border-white"}`,children:[s.jsx(n.Z,{className:"w-4 h-4"}),"TV Shows (",w.filter(e=>"tv"===e.media_type).length,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-white",children:"Sort by:"}),(0,s.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"bg-gray-900 text-white px-3 py-2 rounded-lg border border-red-500 focus:border-white focus:outline-none",children:[s.jsx("option",{value:"date_added",children:"Date Added"}),s.jsx("option",{value:"title",children:"Title"}),s.jsx("option",{value:"rating",children:"Rating"})]})]})]}),0===k.length?(0,s.jsxs)("div",{className:"text-center py-16 border border-red-500 rounded-lg bg-gray-900 p-8",children:[s.jsx(c.Z,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-semibold mb-2 text-red-400",children:"all"===r?"Your watchlist is empty":`No ${"movie"===r?"movies":"TV shows"} in your watchlist`}),s.jsx("p",{className:"text-white mb-6",children:"Start adding movies and TV shows you want to watch!"}),(0,s.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,s.jsxs)(l.default,{href:"/movies",className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg transition-colors flex items-center gap-2 border border-white hover:border-red-300",children:[s.jsx(d.Z,{className:"w-4 h-4"}),"Browse Movies"]}),(0,s.jsxs)(l.default,{href:"/tv",className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg transition-colors flex items-center gap-2 border border-white hover:border-red-300",children:[s.jsx(n.Z,{className:"w-4 h-4"}),"Browse TV Shows"]})]})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:k.map(e=>(0,s.jsxs)("div",{className:"bg-gray-900 border border-red-500 rounded-lg overflow-hidden hover:bg-gray-800 hover:border-white transition-all duration-300 group shadow-lg hover:shadow-red-500/20",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx(l.default,{href:`/${e.media_type}/${e.tmdb_id}`,children:s.jsx("img",{src:e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"/placeholder.jpg",alt:e.title,className:"w-full h-80 object-cover group-hover:scale-105 transition-transform duration-300"})}),s.jsx("button",{onClick:()=>j(e.tmdb_id,e.media_type),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 p-2 rounded-full transition-colors opacity-0 group-hover:opacity-100 border border-white",title:"Remove from watchlist",children:s.jsx(h.Z,{className:"w-4 h-4"})}),(0,s.jsxs)("div",{className:"absolute top-2 left-2 bg-black/80 border border-red-500 px-2 py-1 rounded-lg flex items-center gap-1",children:["movie"===e.media_type?s.jsx(d.Z,{className:"w-3 h-3 text-red-400"}):s.jsx(n.Z,{className:"w-3 h-3 text-red-400"}),s.jsx("span",{className:"text-xs capitalize text-white",children:e.media_type})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-black",children:[s.jsx(l.default,{href:`/${e.media_type}/${e.tmdb_id}`,children:s.jsx("h3",{className:"font-semibold text-white mb-2 line-clamp-2 hover:text-red-400 transition-colors",children:e.title})}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-white mb-2",children:[e.release_date&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(x.Z,{className:"w-3 h-3 text-red-400"}),s.jsx("span",{children:new Date(e.release_date).getFullYear()})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(m.Z,{className:"w-3 h-3 text-red-400"}),s.jsx("span",{children:e.vote_average.toFixed(1)})]})]}),e.overview&&s.jsx("p",{className:"text-xs text-gray-300 line-clamp-3",children:e.overview}),(0,s.jsxs)("div",{className:"mt-3 text-xs text-red-300",children:["Added ",new Date(e.created_at).toLocaleDateString()]})]})]},e.id))})]})})]})}},3795:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var s=r(5507);function a(e){let[t,r]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[l,o]=(0,s.useState)(null),d=(0,s.useCallback)(async()=>{if(!e){r([]),i(!1);return}try{i(!0);let t=await fetch(`/api/watchlist?user_id=${e}`);if(!t.ok)throw Error("Failed to fetch watchlist");let s=await t.json();r(s),o(null)}catch(e){o("Failed to load watchlist"),console.error("Error fetching watchlist:",e)}finally{i(!1)}},[e]),n=(0,s.useCallback)((e,r)=>t.some(t=>t.tmdb_id===e&&t.media_type===r),[t]);return{watchlistItems:t,isInWatchlist:n,addToWatchlist:(0,s.useCallback)(async t=>{if(!e)return!1;try{if(!(await fetch("/api/watchlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,...t})})).ok)throw Error("Failed to add to watchlist");return await d(),!0}catch(e){return console.error("Error adding to watchlist:",e),o("Failed to add to watchlist"),!1}},[e,d]),removeFromWatchlist:(0,s.useCallback)(async(t,r)=>{if(!e)return!1;try{if(!(await fetch("/api/watchlist",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,tmdb_id:t,media_type:r})})).ok)throw Error("Failed to remove from watchlist");return await d(),!0}catch(e){return console.error("Error removing from watchlist:",e),o("Failed to remove from watchlist"),!1}},[e,d]),loading:a,error:l}}r(1633)},8408:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(1278).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7866:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(1278).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3776:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(1278).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},4672:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(1278).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(1278).Z)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]])},8109:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2772).createProxy)(String.raw`C:\Users\varshitha-home\Desktop\last_hope\MovieInferno\movieinferno-deploy-v6-fixes\app\watchlist\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[916,165,622,496],()=>r(7035));module.exports=s})();