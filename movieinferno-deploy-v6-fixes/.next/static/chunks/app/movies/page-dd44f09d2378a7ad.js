(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{4556:function(e,t,s){Promise.resolve().then(s.bind(s,6161))},6161:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var l=s(7437),r=s(2265),a=s(3303),i=s(9376),n=s(3145),c=s(7648),o=s(2869),d=s(3322),u=s(3284),x=s(3276),h=s(3245),m=s(7531),g=s(5953);function p(){var e,t;let[s,p]=(0,r.useState)(null),[v,b]=(0,r.useState)(null),[f,j]=(0,r.useState)([]),[y,N]=(0,r.useState)([]),[w,k]=(0,r.useState)([]),[C,S]=(0,r.useState)([]),[_,P]=(0,r.useState)([]),[z,E]=(0,r.useState)(!0),[M,F]=(0,r.useState)(null),[Z,U]=(0,r.useState)("popular"),[W,A]=(0,r.useState)(null),[O,R]=(0,r.useState)([]),T=(0,i.useRouter)();(0,r.useEffect)(()=>{a.O.auth.getSession().then(e=>{var t,s;let{data:l}=e;p(l.session),b(null!==(s=null===(t=l.session)||void 0===t?void 0:t.user)&&void 0!==s?s:null)});let{data:{subscription:e}}=a.O.auth.onAuthStateChange((e,t)=>{var s;p(t),b(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null)});return()=>e.unsubscribe()},[T]),(0,r.useEffect)(()=>{(async()=>{E(!0),F(null);try{let[e,t,s,l]=await Promise.all([g.Wu.getPopular(),g.Wu.getTopRated(),g.Wu.getNowPlaying(),g.Wu.getUpcoming()]),r=await fetch("/api/genres?type=movie"),a=await r.json();j(e.results),N(t.results),k(s.results),S(l.results),P(a)}catch(e){console.error("Error fetching movies:",e),F("Failed to load movies. Please try again later.")}E(!1)})()},[s]),(0,r.useEffect)(()=>{(()=>{let e=L();null===W?R(e):R(e.filter(e=>e.genre_ids&&e.genre_ids.includes(W)))})()},[Z,W,f,y,w,C]);let L=()=>{switch(Z){case"popular":default:return f;case"top_rated":return y;case"now_playing":return w;case"upcoming":return C}};if(z)return(0,l.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,l.jsx)(d.w,{}),(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,l.jsx)("p",{className:"text-white",children:"Loading movies..."})}),(0,l.jsx)(u.$,{})]});if(M)return(0,l.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,l.jsx)(d.w,{}),(0,l.jsx)("p",{className:"text-red-500 text-center mt-8",children:M}),(0,l.jsx)(u.$,{})]});let $=O.length>0?O[0]:null,D=O.length>1?O.slice(1):[];return(0,l.jsxs)("div",{className:"min-h-screen bg-background text-white",children:[(0,l.jsx)(d.w,{}),$&&(0,l.jsxs)("div",{className:"relative h-[60vh] md:h-[80vh] flex items-end justify-start p-8 md:p-16",children:[(0,l.jsx)(n.default,{src:(0,g.Jn)($.backdrop_path,"original")||"/placeholder.svg",alt:$.title,fill:!0,className:"object-cover object-center -z-10",priority:!0}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent -z-10"}),(0,l.jsxs)("div",{className:"relative z-10 max-w-2xl text-white",children:[(0,l.jsx)("h2",{className:"text-4xl md:text-6xl font-bold mb-4",children:$.title}),(0,l.jsx)("p",{className:"text-lg mb-6 line-clamp-3",children:$.overview}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)(o.z,{asChild:!0,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 text-lg",children:(0,l.jsxs)(c.default,{href:"/movie/".concat($.id),children:[(0,l.jsx)(x.Z,{className:"mr-2 h-5 w-5"})," Watch Trailer"]})}),(0,l.jsx)(o.z,{asChild:!0,variant:"secondary",className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 text-lg",children:(0,l.jsxs)(c.default,{href:"/movie/".concat($.id),children:[(0,l.jsx)(h.Z,{className:"mr-2 h-5 w-5"})," More Info"]})})]})]})]}),!v&&(0,l.jsx)("section",{className:"py-8 px-4 md:px-16",children:(0,l.jsxs)("div",{className:"bg-gradient-to-r from-red-600/20 to-pink-600/20 rounded-lg p-6 mb-8 border border-red-500/30",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"\uD83C\uDFAC Unlock the Full Experience!"}),(0,l.jsx)("p",{className:"text-gray-300 mb-4",children:"Sign up for free to access our complete movie database, create watchlists, write reviews, and get personalized recommendations!"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)(o.z,{asChild:!0,className:"bg-red-600 hover:bg-red-700",children:(0,l.jsx)(c.default,{href:"/signup",children:"Sign Up Free"})}),(0,l.jsx)(o.z,{asChild:!0,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500/10",children:(0,l.jsx)(c.default,{href:"/login",children:"Login"})})]})]})}),(0,l.jsxs)("section",{className:"py-8 px-4 md:px-16",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 mb-6 bg-gray-800 p-1 rounded-lg w-fit",children:[(0,l.jsx)("button",{onClick:()=>U("popular"),className:"px-4 py-2 rounded-md transition-colors ".concat("popular"===Z?"bg-red-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"),children:"Popular"}),(0,l.jsx)("button",{onClick:()=>U("top_rated"),className:"px-4 py-2 rounded-md transition-colors ".concat("top_rated"===Z?"bg-red-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"),children:"Top Rated"}),(0,l.jsx)("button",{onClick:()=>U("now_playing"),className:"px-4 py-2 rounded-md transition-colors ".concat("now_playing"===Z?"bg-red-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"),children:"Now Playing"}),(0,l.jsx)("button",{onClick:()=>U("upcoming"),className:"px-4 py-2 rounded-md transition-colors ".concat("upcoming"===Z?"bg-red-600 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"),children:"Upcoming"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Filter by Genre"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsx)("button",{onClick:()=>A(null),className:"px-3 py-1 rounded-full text-sm transition-colors ".concat(null===W?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:"All Genres"}),_.map(e=>(0,l.jsx)("button",{onClick:()=>A(e.id),className:"px-3 py-1 rounded-full text-sm transition-colors ".concat(W===e.id?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:e.name},e.id))]})]})]}),(0,l.jsxs)("section",{className:"py-8 px-4 md:px-16",children:[(0,l.jsxs)("h2",{className:"text-3xl font-bold mb-6",children:[(()=>{switch(Z){case"popular":default:return"Popular Movies";case"top_rated":return"Top Rated Movies";case"now_playing":return"Now Playing Movies";case"upcoming":return"Upcoming Movies"}})()," ",!v&&"(Limited Preview)"]}),(0,l.jsxs)("p",{className:"text-gray-400 mb-6",children:[O.length," movies available",W&&(0,l.jsxs)("span",{className:"ml-2",children:["â€¢ Filtered by ",null===(e=_.find(e=>e.id===W))||void 0===e?void 0:e.name]})]}),D.length>0?(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:D.map(e=>(0,l.jsx)(m.u,{movie:e},e.id))}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("p",{className:"text-gray-400 text-lg",children:W?"No movies found in the ".concat(null===(t=_.find(e=>e.id===W))||void 0===t?void 0:t.name," genre."):"No movies found."}),W&&(0,l.jsx)("button",{onClick:()=>A(null),className:"mt-4 text-red-400 hover:text-red-300 underline",children:"Clear filter"})]}),!v&&D.length>0&&(0,l.jsxs)("div",{className:"text-center mt-8",children:[(0,l.jsx)("p",{className:"text-gray-400 mb-4",children:"You're viewing a limited preview. Sign up to see our complete collection!"}),(0,l.jsx)(o.z,{asChild:!0,className:"bg-red-600 hover:bg-red-700",children:(0,l.jsx)(c.default,{href:"/signup",children:"View All Movies"})})]})]}),(0,l.jsx)(u.$,{})]})}},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},3276:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])}},function(e){e.O(0,[63,866,145,407,0,971,117,744],function(){return e(e.s=4556)}),_N_E=e.O()}]);