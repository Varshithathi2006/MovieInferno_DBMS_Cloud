(()=>{var e={};e.id=233,e.ids=[233],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},7005:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(4699),s(1216),s(5866);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),n=s(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["movie",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4699)),"C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\app\\movie\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1216)),"C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\varshitha-home\\Desktop\\last_hope\\MovieInferno\\app\\movie\\[id]\\page.tsx"],x="/movie/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/movie/[id]/page",pathname:"/movie/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7318:(e,t,s)=>{Promise.resolve().then(s.bind(s,7644))},7644:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z});var r=s(326),a=s(7577),l=s(5047),i=s(6226),n=s(434),o=s(6333),c=s(3734),d=s(7358),x=s(8998),m=s(4893),u=s(6015),h=s(2597),v=s(2258),p=s(8557),g=s(1890),f=s(9183),b=s(772),j=s(2643),N=s(2374);function w({cast:e,className:t=""}){return r.jsx(n.default,{href:`/person/${e.id}`,children:r.jsx(j.Zb,{className:`group cursor-pointer transition-all duration-300 hover:scale-105 bg-card border-border ${t}`,children:(0,r.jsxs)(j.aY,{className:"p-0",children:[r.jsx("div",{className:"relative aspect-[2/3] overflow-hidden rounded-t-lg",children:r.jsx(i.default,{src:(0,N.Jn)(e.profile_path)||"/placeholder.svg?height=300&width=200&query=person",alt:e.name,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-110",sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 25vw, 20vw"})}),(0,r.jsxs)("div",{className:"p-3",children:[r.jsx("h4",{className:"font-semibold text-card-foreground text-sm line-clamp-1 group-hover:text-accent transition-colors",children:e.name}),r.jsx("p",{className:"text-muted-foreground text-xs line-clamp-2 mt-1",children:e.character})]})]})})})}function y({title:e,cast:t,className:s=""}){let l=(0,a.useRef)(null),i=e=>{if(l.current){let t=l.current.scrollLeft+("left"===e?-200:200);l.current.scrollTo({left:t,behavior:"smooth"})}};return t.length?(0,r.jsxs)("section",{className:`${s}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground text-balance",children:e}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(b.z,{variant:"outline",size:"sm",onClick:()=>i("left"),className:"border-border hover:bg-accent hover:text-accent-foreground",children:r.jsx(g.Z,{className:"w-4 h-4"})}),r.jsx(b.z,{variant:"outline",size:"sm",onClick:()=>i("right"),className:"border-border hover:bg-accent hover:text-accent-foreground",children:r.jsx(f.Z,{className:"w-4 h-4"})})]})]}),r.jsx("div",{ref:l,className:"flex gap-4 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map(e=>r.jsx(w,{cast:e,className:"flex-none w-48"},e.id))})]}):null}var k=s(1392),C=s(7679),S=s(567);function _({movieId:e,movieTitle:t,onReviewSuccess:s}){let[l,i]=(0,a.useState)(0),[n,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[x,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(""),v=async r=>{if(r.preventDefault(),h(""),!x){h("Please log in to submit a review.");return}if(!l||!n.trim()){h("Please provide a rating and a comment.");return}if(l<1||l>10){h("Rating must be between 1 and 10.");return}d(!0);try{let r=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:x.id,movie_id:e,rating:l,comment:n})}),a=await r.json();if(!r.ok){409===r.status?h("You have already reviewed this movie."):h(a.error||"Failed to submit review.");return}alert(`✅ Review for "${t}" submitted!`),i(0),o(""),s()}catch(e){console.error("Submission Error:",e),h("❌ Submission failed. Check your network.")}finally{d(!1)}};return x?(0,r.jsxs)("form",{onSubmit:v,className:"p-6 bg-gray-900 rounded-lg space-y-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Post Your Review"}),u&&r.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded text-red-200 text-sm",children:u}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-sm text-gray-400",children:"Rating (1-10):"}),r.jsx("input",{type:"number",min:"1",max:"10",value:l,onChange:e=>i(Number(e.target.value)),className:"w-16 p-2 rounded bg-gray-800 border border-gray-700 text-white",disabled:c})]}),r.jsx("textarea",{placeholder:"Write your review here...",value:n,onChange:e=>o(e.target.value),rows:4,className:"w-full p-3 rounded bg-gray-800 border border-gray-700 text-white resize-none",disabled:c}),r.jsx(b.z,{type:"submit",disabled:c||!l||!n.trim(),className:"bg-red-600 hover:bg-red-700 disabled:opacity-50",children:c?"Submitting...":"Submit Review"})]}):(0,r.jsxs)("div",{className:"p-6 bg-gray-900 rounded-lg space-y-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Post Your Review"}),r.jsx("p",{className:"text-gray-400",children:"Please log in to submit a review."}),r.jsx(b.z,{onClick:()=>window.location.href="/login",className:"bg-red-600 hover:bg-red-700",children:"Log In"})]})}function z(){let e=Number.parseInt((0,l.useParams)().id),[t,s]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),[j,w]=(0,a.useState)([]),[z,P]=(0,a.useState)(!0),[Z,M]=(0,a.useState)(null),[q,T]=(0,a.useState)(!1),[$,R]=(0,a.useState)(!1),A=(0,a.useCallback)(async()=>{try{P(!0);let[t,r,a]=await Promise.all([N.Wu.getDetails(e),N.Wu.getCredits(e),N.Wu.getSimilar(e)]);s(t),f(r),w(a.results),T(!1)}catch(e){console.error("Error fetching movie data:",e),M("Failed to load movie details. Check server logs for API error.")}finally{P(!1)}},[e]);if(z)return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(h.w,{}),r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx(k.T,{size:"lg"})}),r.jsx(v.$,{})]});if(Z||!t)return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(h.w,{}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Movie not found"}),r.jsx("p",{className:"text-muted-foreground mb-8",children:Z||"The movie you're looking for doesn't exist."}),r.jsx(b.z,{asChild:!0,children:(0,r.jsxs)(n.default,{href:"/",children:[r.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})]}),r.jsx(v.$,{})]});let I=t.release_date?new Date(t.release_date).getFullYear():"TBA",W=t.runtime?`${Math.floor(t.runtime/60)}h ${t.runtime%60}m`:"N/A",L=t.vote_average?t.vote_average.toFixed(1):"N/A";return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(h.w,{}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"absolute inset-0",children:[r.jsx(i.default,{src:(0,N.Jn)(t.backdrop_path,"original")||"/placeholder.svg",alt:t.title||"Movie Backdrop",fill:!0,className:"object-cover",priority:!0}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/90 via-black/60 to-black/30"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"})]}),(0,r.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[r.jsx(b.z,{variant:"ghost",asChild:!0,className:"mb-8 text-white hover:bg-white/20",children:(0,r.jsxs)(n.default,{href:"/",children:[r.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(i.default,{src:(0,N.Jn)(t.poster_path)||"/placeholder.svg",alt:t.title||"Movie Poster",width:300,height:450,className:"rounded-lg shadow-2xl",priority:!0})}),(0,r.jsxs)("div",{className:"flex-1 text-white",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:t.title}),t.tagline&&r.jsx("p",{className:"text-xl text-gray-300 italic mb-4",children:t.tagline}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[(0,r.jsxs)(S.C,{variant:"secondary",className:"bg-accent/20 text-accent border-accent/30",children:[r.jsx(c.Z,{className:"w-3 h-3 mr-1 fill-accent"}),L]}),(0,r.jsxs)(S.C,{variant:"outline",className:"border-white/30 text-white",children:[r.jsx(d.Z,{className:"w-3 h-3 mr-1"}),I]}),(0,r.jsxs)(S.C,{variant:"outline",className:"border-white/30 text-white",children:[r.jsx(x.Z,{className:"w-3 h-3 mr-1"}),W]})]}),t.genres&&t.genres.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:t.genres.map(e=>r.jsx(S.C,{variant:"outline",className:"border-white/30 text-white",children:e.name},e.id))}),t.overview&&r.jsx("p",{className:"text-lg text-gray-200 mb-8 leading-relaxed",children:t.overview}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)(b.z,{size:"lg",className:"bg-accent hover:bg-accent/90 text-accent-foreground",onClick:()=>R(!0),children:[r.jsx(m.Z,{className:"w-5 h-5 mr-2"}),"Watch Trailer"]}),(0,r.jsxs)(b.z,{variant:"outline",size:"lg",className:"border-white/30 text-white hover:bg-white/10 bg-transparent",children:[r.jsx(u.Z,{className:"w-5 h-5 mr-2"}),"Add to Watchlist"]})]})]})]})]})]}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,r.jsxs)("div",{className:"space-y-16",children:[g&&g.cast.length>0&&r.jsx(y,{title:"Cast",cast:g.cast.slice(0,20)}),(0,r.jsxs)("section",{id:"review-form-section",children:[r.jsx("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Write a Review"}),r.jsx(_,{movieId:t.id,movieTitle:t.title||"This Movie",onReviewSuccess:()=>{A()}})]}),j.length>0&&r.jsx(p.s,{title:"Similar Movies",movies:j})]})}),r.jsx(v.$,{}),r.jsx(C._,{contentId:t?.id,contentTitle:t?.title||"",contentType:"movie",isOpen:$,onClose:()=>R(!1)})]})}s(5472)},1392:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var r=s(326);let a=(0,s(2881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function l({className:e="",size:t="md"}){return r.jsx("div",{className:`flex items-center justify-center ${e}`,children:r.jsx(a,{className:`animate-spin text-accent ${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t]}`})})}},8557:(e,t,s)=>{"use strict";s.d(t,{s:()=>c});var r=s(326),a=s(7577),l=s(1890),i=s(9183),n=s(772),o=s(412);function c({title:e,movies:t,className:s=""}){let c=(0,a.useRef)(null),d=e=>{if(c.current){let t=c.current.scrollLeft+("left"===e?-320:320);c.current.scrollTo({left:t,behavior:"smooth"})}};return t.length?(0,r.jsxs)("section",{className:`${s}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-foreground text-balance",children:e}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>d("left"),className:"border-border hover:bg-accent hover:text-accent-foreground",children:r.jsx(l.Z,{className:"w-4 h-4"})}),r.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>d("right"),className:"border-border hover:bg-accent hover:text-accent-foreground",children:r.jsx(i.Z,{className:"w-4 h-4"})})]})]}),r.jsx("div",{ref:c,className:"flex gap-4 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map(e=>r.jsx(o.u,{movie:e,className:"flex-none w-72"},e.id))})]}):null}},7679:(e,t,s)=>{"use strict";s.d(t,{_:()=>n});var r=s(326),a=s(7577),l=s(4019),i=s(772);function n({contentId:e,contentTitle:t,contentType:s,isOpen:n,onClose:o}){let c;let[d,x]=(0,a.useState)([]),[m,u]=(0,a.useState)(!1),[h,v]=(0,a.useState)(null);return n?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"relative w-full max-w-4xl mx-4 bg-background rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold",children:[t," - Trailer"]}),r.jsx(i.z,{variant:"ghost",size:"sm",onClick:o,className:"h-8 w-8 p-0",children:r.jsx(l.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"p-4",children:[m&&r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),h&&r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("p",{className:"text-muted-foreground",children:h})}),!m&&!h&&0===d.length&&r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("p",{className:"text-muted-foreground",children:"No trailers available"})}),!m&&!h&&d.length>0&&r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"aspect-video",children:r.jsx("iframe",{src:(c=d[0].key,`https://www.youtube.com/embed/${c}?autoplay=1&rel=0&modestbranding=1`),title:d[0].name,className:"w-full h-full rounded-lg",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})})})]})]})}):null}s(2374)},567:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var r=s(326),a=s(9360),l=s(7863);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...s}){return r.jsx("div",{className:(0,l.cn)(i({variant:t}),e),...s})}},6333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1890:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9183:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4893:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},3734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(2881).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},4699:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\varshitha-home\Desktop\last_hope\MovieInferno\app\movie\[id]\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,612,75,226,26,673],()=>s(7005));module.exports=r})();